## 스프링 시큐리티

스프링 기반의 애플리케이션 보안 (**인증**, **인가**, **권한**)을 담당하는 스프링 하위 프레임워크

### 인증과 인가

인증이란, 사용자의 신원을 입증하는 과정.

인가이란, 사이트의 특정 부분에 접근할 수 있는지 권한을 확인하는 작업.

### 아이디와 패스워드 기반 로그인 시도시, 스프링 시큐리티 처리 절차

![](/Users/yanghwayeong/Desktop/Spring_ToyProject1/md/img/2.png)

HTTP Request(사용자가 폼에 아이디와 패스워드를 입력)

→ HTTPServletRequest (아이디와 비밀번호 정보가 들어옴)

: HTTP ServletRequest는 클라이언트로부터 서버로 요청이 들어오면 서버에서는 HttpServletRequest를 생성하며, 요청정보에 있는 패스로 매핑된 **Servlet에 전달하게 됨.**

Servlet은, 서버측에서 동적으로 웹페이지를 생성하거나 요청에 대한 응답을 처리하기 위한

**→Servlet에 도달하기전에  AuthenticationFilter가 가로챔**

(실제 비즈니스 로직으로 전달되기 전에 인증과 관련된 작업을 하기위해)

**→유효성검사**

AuthenticationManger를 통해 사용자 정보를 검증함.

**UserDetailsService**를 통해 데이터베이스나 다른 사용자 저장소에서 사용자의 정보를 불러오고, 입력된 비밀번호가 저장된 비밀번호와 일치하는지 확인.

**→토큰 생성 (유효성 검사 성공)**

스프링 시큐리티는 이 토큰을 **SecurityContextHoler에** 저장하여 , 사용자가 인증되었음을 유지하고 이후 요청에서는 다시 인증과정을 반복하지 않음

→ 클라이언트 측에서 인증이 필요한 API를 사용할때 토큰을 함께 보냄

→ 토큰의 유효성 검증

→ 유효하다면 클라이언트가 요청한 내용을 처리함.